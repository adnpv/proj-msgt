{% extends "base.html" %}
{% load static %}

        {% block contenido %}

<form method="get" name="gna_form" action="/gna/generar" >

  <label>X:</label>
  <input type="text" id="full_name" name="x" placeholder="Jane Doe" required>

  <label>m:</label>
  <input type="email" id="email_addr" name="m" required>

  <label>a:</label>
  <input type="email" id="email_addr_repeat" name="a" required 
   oninput="check(this)">

  <label>c:</label>
  <input type="date" id="arrival_dt" name="c" required>
  
  <label>filas:</label>
  <input type="number" id="nights" name="filas" value="1" min="1" max="30" required>

  <label>p:</label>
  <input type="number" id="guests" name="guests" value="1" min="1" max="4" required>


  <input type="submit" value="Generar numero" /> 
</form>


Resultados:

<table>
  {% for r in results %}
    {% cycle '<tr>' '' '' '' %}
      <td>{{r.content}}</td>
    {% cycle '' '' '' '</tr>' %}
  {% endfor %}
</table>


        {% endblock %}


<!--


private String operacion(int a, int x, int c)
        {
            return ((a * x) + c).ToString();
        }



private void btnCalcular_Click(object sender, EventArgs e)
        {
            dgvResult.Rows.Clear();
            txtPeriodo.Clear();
            try
            {
                int x = Convert.ToInt32(txtX.Text);
                int x_var = Convert.ToInt32(txtX.Text);
                int m = Convert.ToInt32(txtM.Text);
                int a = Convert.ToInt32(txtA.Text);
                int c = Convert.ToInt32(txtC.Text);
                int filas = Convert.ToInt32(txtFilas.Text);
                int p = Convert.ToInt32(txtP.Text);

                if (aValidate(a))
                {
                    if (mValidate(p, m))
                    {
                        if (pesiValidate(m, c))
                        {
                            for (int i = 0; i <= filas; i++)
                            {
                                String[] row = new String[] { i.ToString(), x_var.ToString(), operacion(a, x_var, c), operacion(a, x_var, c, m) };
                                dgvResult.Rows.Add(row);
                                x_var = Convert.ToInt32(operacion(a, x_var, c, m));
                                if (x_var == x && m != filas+1)
                                {
                                    txtPeriodo.Text = m.ToString();
                                }
                            }
                        }
                        else
                        {
                            MessageBox.Show(this, "NO CUMPLE --> 'C y M SON PESI'");
                        }
                    }
                    else
                    {
                        MessageBox.Show(this, "NO CUMPLE --> 'P > M' รณ 'M Potencia De Un Cuadrado'");
                    }
                }
                else
                {
                    MessageBox.Show(this, "NO CUMPLE --> 'A = 4*K + 1'");
                }
            }
            catch (DivideByZeroException dbz)
            {
                Console.WriteLine(dbz);
                MessageBox.Show(this, "C no puede ser 0");
            }
            catch (Exception ex)
            {
                Console.WriteLine(ex);
                MessageBox.Show(this, "NO DEJE ESPACIOS EN BLANCO");
            }
        }





        private String operacion(int a, int x, int c)
        {
            return ((a * x) + c).ToString();
        }

        private String operacion(int a, int x, int c, int m)
        {
            return (((a * x) + c) % m).ToString();
        }

        private Boolean aValidate(int val)
        {
            double mod = (val - 1) % 4;
            if (mod != 0)
            {
                return false;
            }
            else
            {
                return true;
            }
        }

        private Boolean pesiValidate(int m, int c)
        {
            double res = m % c;
            if (c == 1)
            {
                return true;
            }
            else if (c == 0)
            {
                return false;
            }
            else if (res != 0)
            {
                return true;
            }
            else
            {
                return false;
            }
        }

        private Boolean mValidate(int p, int val)
        {
            if (val <= p)
            {
                return false;
            }
            else
            {
                double res = 0;
                for (int i = 0; i <= 30; i++)
                {
                    res = Math.Pow(2, i);
                    if (res == val)
                    {
                        return true;
                    }
                }
                return false;
            }
        }

      -->